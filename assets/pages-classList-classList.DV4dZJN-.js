import{b as a,y as s,s as l,z as e,d as t,c as i,w as o,i as u,o as n,a as d,q as r,e as c,f as p,F as g,l as m,h as v}from"../js/index.C90fx7lZ.js";import{_}from"./uni-load-more.B85dX2Pp.js";import{g as f,h as y,i as L,j as h,o as j,a as w,k,r as b}from"./apis.D61wAVJ1.js";import{_ as x}from"./_plugin-vue_export-helper.BCo6x5W8.js";const z=x({__name:"classList",setup(x){const z=a([]),C=a(!1),F={pageNum:1,pageSize:12};let N;f((a=>{let{id:l=null,name:e=null,type:t=null}=a;t&&(F.type=t),l&&(F.classid=l),F.classid=l,N=e,s({title:e}),S()})),y((()=>{console.log("到底了"),C.value||(F.pageNum++,S())}));const S=async()=>{let a;F.classid&&(a=await L(F)),F.type&&(a=await h(F)),z.value=[...z.value,...a.data],F.pageSize>a.data.length&&(C.value=!0),l("storgClassList",z.value),console.log(a.data)};return j((a=>({title:"壁纸",path:"/pages/classList/classList?id="+F.classid+"&name="+N}))),w((a=>({title:"楠欧"}))),k((()=>{e("strongClassList")})),(a,s)=>{const l=b(t("uni-load-more"),_),e=u,f=m,y=v;return n(),i(e,{class:"classList"},{default:o((()=>[z.value.length||C.value?r("",!0):(n(),i(e,{key:0,class:"loadingLayout"},{default:o((()=>[d(l,{status:"loading"})])),_:1})),d(e,{class:"content"},{default:o((()=>[(n(!0),c(g,null,p(z.value,(a=>(n(),i(y,{url:"/pages/preview/preview?id="+a._id,class:"item",key:a._id},{default:o((()=>[d(f,{src:a.smallPicurl,mode:"aspectFill"},null,8,["src"])])),_:2},1032,["url"])))),128))])),_:1}),z.value.length||C.value?(n(),i(e,{key:1,class:"loadingLayout"},{default:o((()=>[d(l,{status:C.value?"onMore":"loading"},null,8,["status"])])),_:1})):r("",!0),d(e,{class:"safe-area-inset-bottom"})])),_:1})}}},[["__scopeId","data-v-8a76430a"]]);export{z as default};
